---
title: 水晶球里的缤纷万象（一）
excerpt: "IT老兵的QCon 2018见闻 —— Day 1"
categories: [tech]
tags: [conference]
toc: true
toc_sticky: true
gallery:
  - url: "/assets/images/qconbj2018/lianjia.jpg"
    image_path: "/assets/images/qconbj2018/lianjia.jpg"
  - url: "/assets/images/qconbj2018/java.jpg"
    image_path: "/assets/images/qconbj2018/java.jpg"
  - url: "/assets/images/qconbj2018/xp.jpg"
    image_path: "/assets/images/qconbj2018/xp.jpg"
---

## 题记

由于某些原因，今年意外得到参加QCon大会的机会。不记得上次参加QCon是什么时候了，大概是在2010年，那时还有Douglas Crockford的Javascript，蔡学镛的CEP，邓草原的scala，……，8年过去了，时过境迁，物是人非。不过，IT业依然遵循着它的固有法则在不断的大步向前。这期间，风起云涌，新人辈出。作为一名IT老兵的我，有幸得以见证这一幕幕激动人心的历史变迁，幸甚至哉。如今，又将以“小学生”的身份，抱着学习的心态，踏上QCon之行。倍感压力，也满怀期待。如果把QCon比做水晶球，那么它浓缩的就是当今IT业的缤纷万象。接下来，就让我这名老兵带着诸位一起浮光掠影一番，聊一聊QCon 2018上的所见所闻。

## Day 1

依据“众所周知”的经验，早上有意避开了开场的几个keynote，因此迟到了一会儿。进入北京国际会议中心的一层大厅，在签到处领完资料后，我并没有径直走入大会的主会场，而是在周遭转了一圈。一来熟悉一下环境，二来也是想大致浏览一下各赞助商的展台。只见得一众IT厂商鳞次栉比，展台前人头攒动。无论是参展商还是参会者，就规模而言都是让人惊叹的。不得不说，InfoQ自2009年在本土举办第一次QCon大会至今，已然蜕变成一项国内软件开发领域的顶级技术盛会，亲眼见证泰稳兄一步步走来，着实钦佩之至。

### 印象深刻的两家参展商

说到参展商，有两家厂商是让我印象最为深刻的。一家是普元，一家是链家。记得我还在服务于上一家公司的时候，普元曾是我们的假想敌，当初团队还专门研究过它的产品。如今10多年过去了，公司依然尚在。翻看宣传彩页，得知其依然定位于软件基础平台与中间件提供商，且已从传统的SOA过渡到云计算与大数据领域。抛开本土扶持的因素，一家国内技术公司能够心无旁骛的专注基础技术领域十数年，而且还活的很成功，仅就这一点而言，也是值得敬佩的。链家作为房产企业，参与IT技术会议，本是一件让人讶异的事。不过资料显示，链家自2016年就已是QCon的金牌赞助商，其技术团队的规模在短短的几年里已发展为数百人之巨。抛开资金雄厚的因素，一家在垂直领域如鱼得水的传统企业，能在日益激烈的新格局竞争中勇于跨界，且做的有声有色，仅就这一点而言，也是值得敬佩的。

![](/assets/images/qconbj2018/lianjia.jpg){: .align-center}

### Java的未来，老树新芽

逛完展位进入主会场，正赶上Oracle有关Java的主题演讲。因为这两年工作的技术中心转向Node.js的缘故，看到Java重回视野有些许意外。不过毋庸置疑的是，尽管这些年编程语言领域里百家争鸣，百花齐放，Java作为一门主流编程语言，其影响力与地位依然是无可争议的。即便是在云上，Java SE的runtime在AWS和Google App Engine上的部署量也是排名第一的。可以说，Java依然是许多Cloud IaaS，PaaS和SaaS方案的基石。在去年的一篇有关加速JDK发布步伐的文章中，Oracle的Java Platform Group首席架构师Mark Reinhold曾经指出，自JDK 9开始，Oracle会把Java的商业特性逐一通过OpenJDK项目公开源码。并且新特性的发布会以每六个月一个版本的节奏进行。这无疑为Java的发展注入了新的生命力。此外，Java未来的发展趋势也在逐渐迎合当下大行其道的容器化进程，所谓老树新芽，枯木逢春。目前Java 10刚刚在上个月发布，其中包含了12个JEP（Java Enhancement Proposal），有兴趣的同学可以访问OpenJDK的网站，以观其详：http://openjdk.java.net/projects/jdk/10/。会上，来自Oracle的speaker为我们演示了其中的两个特性：Local-variable type inference和Application class-data sharing。前者让人慨叹的是，Java已逐渐从传统意义上的静态强类型，日益“形似”于如JavaScript那样的动态脚本语言。后者，则是Oracle JDK的首个开源商业特性，其通过对Class元数据的共享，实现了应用更小的内存占用与更快的启动速度。按照计划，下一个Java版本JDK 11，将于今年九月发布。而Oracle对Java 11之后的规划，会上也有所提及，包括对象数据的优化，Native Interoperability的改进，轻量级的thread与continuation等，分别由OpenJDK的几个子项目所涵盖，如：Valhalla，Panama，以及Loom。

![](/assets/images/qconbj2018/java.jpg){: .align-center}

### Neal的金句与匆匆那年

接下来的演讲来自ThoughtWorks，一家我在多年以前就非常熟悉，且一直怀有某种感情的公司。演讲者是《The Productive Programmer》一书的作者（中文版书名《卓有成效的程序员》），现任ThoughtWorks总监Neal Ford。不可否认，Neal是本次大会我所见过的数不多的几位极具演讲天赋的讲师之一。虽然对于演讲的主题“Supporting Constant Change”，我略微有些无感，毕竟这是一个多年来被无数人谈及的话题。但每一页幻灯的精心设计，简洁而又鲜明，直观而略带诙谐，让我深信，不是所有人都能写出一本畅销技术书籍的。这让我想起了另一位我多年来一直都很尊敬的技术大师，Martin Fowler。所谓技术大牛，不见得一定要满嘴所谓的“Rocket Science”。从技术领域的纷繁芜杂中抽丝剥茧，归纳抽象，并且以浅显易懂，平易近人的语言表达并传授给他人，这也是一种至上的境界。不凑巧的是，Martin也来自Neal所在的公司，身为ThoughtWorks的首席科学家。所以我个人一直觉得，ThoughtWorks是一家不可思议的公司。在Neal的幻灯里，有两页我忍不住想多啰嗦几句。其中一页是满屏的两个大写字母“XP”，在主会场的超大屏幕上显得尤为“耀眼”。这代表了敏捷方法的先驱Kent Beck所创立的“极限编程（eXtreme Programming）”。个人一直觉得，极限编程才是最为正统的敏捷方法，它与程序员文化有着深厚的渊源。它也是敏捷方法论的鼻祖，很多其后为业界所熟识的大大小小的敏捷方法或多或少都有极限编程的影子，又或是弥补了极限编程的不足之处。一些后来接触敏捷的同业可能有所不知，敏捷运动在国内早期兴起时，为技术人员所谈论最多的就是极限编程，那时Scrum还不甚流行。可以说，它是国内敏捷运动启蒙的理论基础。而我的敏捷实践之旅，也是从认识极限编程开始的，所以看到这两个大大的字母，心中不由百感交集。另一页幻灯是一句话，我打算将它作为“金句”收入囊中——“the more reusable something is, the less usable it is”。和很多其他敏捷金句一样，如：YAGNI，KISS，DRY。简洁而又鲜明，直观而略带诙谐。读来让人会心一笑。

![](/assets/images/qconbj2018/xp.jpg){: .align-center}

### Kubernetes与Helm，广为普及

演讲结束后，我从主会场来到“运维开发实践”分会场。这里正在进行的演讲是“基于混合云的应用部署平台构建实践”，演讲者是来自FreeWheel的两位工程师。其中一位似曾相识，后来想起，他曾是我司的一位同事，在自动化测试方面颇有建树。对这一话题感兴趣，是因为团队最近在探讨混合云架构的方案，所以想了解一下业界同行在这一领域的实践经验。进入会议室时演讲已经开始，远远看到大屏幕上正在介绍有关Kubernetes和Helm的使用，这恰是团队近两年来一直在使用的工具。基于AWS的Kubernetes部署，基于alpine的Docker基础镜像，基于Helm的应用模版抽象……，所有这些都何其相似。再加上满屋子的听众座无虚席，甚至连墙角和门口都站满了人，可见业界对容器化的认可，以及Kubernetes/Helm的使用，已经相当普遍了。这次QCon之行有一种感觉，似乎人们对容器的认识已经历了早期的初识阶段，对Docker的使用也已变得稀松平常，所以现在人们讨论更多的不是Docker本身，而是基于Docker之上的容器编排与部署实践。FreeWheel的CI/CD同样基于业界广泛使用的Jenkins，其上构建了自己的pipeline，以及混合云自动部署方案，在on premise与AWS公有云上混合部署的周期大约能在10分钟以内，而混合云的服务注册与发现则是基于Consul的。

### Kafka的前世今生

从FreeWheel的session出来，我又回到了主会场，因为那里正在进行的是一场有关Kafka的演讲——“Apache Kafka的过去，现在，和未来”，演讲嘉宾是身为Kafka committer之一的Rao Jun。Kafka同样也是团队近期关注的一项技术。Rao Jun的演讲主要涉及了Kafka的产生背景，以及不同版本在解决旧有问题与新问题产生过程中不断演进的思路。内容浅显易懂，没有高深理论，很合我这种“小白”的口味。Rao Jun在演讲中提到，2010年的LinkedIn在业务驱动之下，团队迫切需要一项技术能够应对数据处理的压力与挑战。而和许多研发团队一样，开始时大家是并不愿意再造轮子的。只不过经历了对业界实现的一番考量之后，结果并不如人意，这才促成了Kafka的诞生。随后，从第一版实现高吞吐的消息发布与订阅，再到第二版的高可靠性优化。Kafka已经逐渐成为被业界广泛使用的一项技术。在主流垂直业务领域中，包括金融，保险，电信，旅游等行业，都占据了绝对的份额。未来的Kafka，还将围绕数据流处理这一主题，逐渐向企业深层渗透，强化数据的安全性，并以Kafka Connect的形式，提供接入各类数据源的途径。此外，Kafka stream和KSQL，也值得关注。前者为存储于Kafka内部的数据提供了流式处理与分析能力，后者则为Kafka提供了数据查询的SQL引擎。这些都纠正了我起初对Kafka的肤浅认识。从消息发布与订阅的中间件，到高效实时的数据处理，Kafka的“野心”可见一斑。无怪乎Rao Jun要以一个来自客户的有趣故事结束演讲：有人列出了人类历史的三项伟大发明，它们分别是：火，轮子，kafka。

### JD案例，业务倒逼技术创新

下午的会议都是在分会场进行的，由于吃过午饭总有一段时间犯困，所以对一开始参加的两场演讲已经印象不深了。一场是来自百度的“分布式计算系统的性能优化”，只记得开始时提到了百度参加Sort Benchmark竞赛的有趣经历，在不限硬件的前提下，以最短耗时完成100T数据的排序。领会了获得高性能，除了硬件的合理配置外，如何让软件系统能够有效利用硬件资源也是颇为重要的。另一场是由京东与Intel联合分享的“京东如何基于容器打造高性能及效率的大数据平台”，同样都属于“大规模系统的性能优化”这一专题，大致介绍的是将Spark构建于Kubernetes之上的技术，以及京东在这方面的应用经验分享。随后参加的一个演讲位于另一个会议室，隶属于“DevOps Top案例”专题，但同样也来自京东。演讲主题为“新一代数据中心对传统基础软件架构的挑战”，从双十一期间系统出现bug的一个真实案例说起，讲述了京东JDOS平台如何通过业务需求驱动技术创新，透过对负载均衡，域名解析，共享存储等诸多方面的改进，实现了一键秒级扩容，故障自动恢复，全链路监控等诸多功能，以支持线上服务的稳定运行。心中不由感叹，业界诸多优秀技术的出现，何尝不是业务倒逼使然的。这几年京东在这条路上无疑取得了长足的进步，值得钦佩。

### 开源，不再是小打小闹与个人情怀

一天密集的讲座终于接近了尾声，临走时路过一间会议室，正巧遇到里面的一个演讲进入问答环节，只见听众大多已经散场，空着好些座位，于是好奇的进去听了一会儿。该演讲来自百度，题为“百度对开源的思考和策略以及进展”，隶属于凯峰兄负责的专题“崛起的中国开源软件市场”。回家后又大致翻阅了其公布于QCon网站上的在线幻灯片，自觉是今天遗憾错过的一个不错的演讲。透过幻灯片的文字，可以获悉演讲的大致脉络。近年来，国内企业的开源实践，已经从单纯使用，过渡到了积极参与。参与形式也已从以个人/团队为主，步入了以公司为主的阶段。企业开发者逐渐成为开源项目的主流参与者，是这两年的流行趋势。包括百度在内的多家国内大型互联网公司都是开源社区的活跃分子，就连某些体量稍小的企业也在尝试将自己的产品向公众开源。这一现象的根本原因，是因为企业深知，开源的目的是为了建立合作开发模式，从而快速构筑技术生态，让公司战略得以落地。另外，幻灯片中也提及了百度在内部实施开源的措施。对内开源可以减少重复浪费，加强内部协作。不仅如此，通过在内部设立技术委员会，建设开源社区，组织开发竞赛，推广工程师文化，以使开源策略在内部实现制度化和常态化。以百度的员工规模，要让这些措施获得成效，是颇有可能的。隐约觉百度的开源思路很有想法，措施也很值得我们借鉴。

（待续）